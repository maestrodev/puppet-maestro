{
    "compositions": [
        {
            "agent_facts": {}, 
            "agent_pool_id": null, 
            "composition_tasks": [
                {
                    "composition_id": 2, 
                    "created_at": "2011-10-10T17:51:37-04:00", 
                    "id": 32, 
                    "name": "svn checkout", 
                    "options": {"path":{"value":"<%= working_copy_dir %>/wordpress","type":"String","required":true},"url":{"value":"http://core.svn.wordpress.org/trunk/","type":"Url","required":true},"options":{"required":false,"type":"String","value":""},"clean_working_copy":{"required":false,"type":"Boolean","value":false}}, 
                    "position": 1, 
                    "source": null, 
                    "task_id": 5, 
                    "updated_at": "2012-02-08T16:55:55-05:00"
                }, 
                {
                    "composition_id": 2, 
                    "created_at": "2011-10-10T18:13:39-04:00", 
                    "id": 33, 
                    "name": "zip", 
                    "options": {"path":{"value":"<%= working_copy_dir %>/wordpress","type":"String","required":true},"filename":{"value":"wordpress","type":"String","required":true},"type":{"value":"zip","type":"String","required":true},"destination":{"value":"<%= working_copy_dir %>","type":"String","required":true}}, 
                    "position": 2, 
                    "source": null, 
                    "task_id": 15, 
                    "updated_at": "2012-02-08T16:55:55-05:00"
                }, 
                {
                    "composition_id": 2, 
                    "created_at": "2012-02-08T15:51:57-05:00", 
                    "id": 135, 
                    "name": "ec2 provision", 
                    "options": {"provision_command":{"value":"","type":"String","required":false},"private_key_path":{"value":"config/lucee-demo-keypair.pem","type":"String","required":false},"flavor_id":{"value":"t1.micro","type":"String","required":true},"availability_zone":{"value":"us-east-1a","type":"String","required":true},"bootstrap":{"value":"","type":"String","required":false},"key_name":{"value":"lucee-demo-keypair","type":"String","required":true},"ssh_commands":{"value":["ls"],"type":"Array","required":false},"hostname":{"value":"","type":"String","required":false},"ssh_user":{"value":"root","type":"String","required":true},"type":{"value":"AWS","type":"String","required":true},"image_id":{"value":"ami-d7e925be","type":"String","required":true},"key_id":{"value":"<%= ec2_key_id %>","type":"Password","required":true},"user_data":{"value":"","type":"String","required":false},"deprovision_command":{"value":"","type":"String","required":false},"domain":{"value":"demo","type":"String","required":true},"key":{"value":"<%= ec2_key %>","type":"Password","required":true},"groups":{"value":"quick-start-1","type":"String","required":true}}, 
                    "position": 3, 
                    "source": null, 
                    "task_id": 18, 
                    "updated_at": "2012-02-08T16:55:55-05:00"
                }, 
                {
                    "composition_id": 2, 
                    "created_at": "2011-10-11T19:16:41-04:00", 
                    "id": 37, 
                    "name": "scp upload", 
                    "options": {"host":{"value":"#{fields[:instance_dns]}","type":"String","required":true},"remote_path":{"value":"/tmp","type":"String","required":true},"path":{"value":"<%= working_copy_dir %>/wordpress.zip","type":"String","required":true},"key_type":{"value":"","type":"String","required":false},"user":{"value":"root","type":"String","required":true},"key_path":{"value":"<%= demo_keypair %>","type":"String","required":true}}, 
                    "position": 4, 
                    "source": null, 
                    "task_id": 25, 
                    "updated_at": "2012-02-08T16:55:56-05:00"
                }, 
                {
                    "composition_id": 2, 
                    "created_at": "2011-10-10T21:18:49-04:00", 
                    "id": 34, 
                    "name": "ssh execute (agent)", 
                    "options": {"host":{"value":"#{fields[:instance_dns]}","type":"String","required":false},"commands":{"value":["rm -rf /var/www/html/*","unzip -o /tmp/wordpress.zip","mv wordpress/* /var/www/html"],"type":"Array","required":true},"key_type":{"value":"","type":"String","required":false},"user":{"value":"root","type":"String","required":true},"key_path":{"value":"<%= demo_keypair %>","type":"String","required":true}}, 
                    "position": 5, 
                    "source": null, 
                    "task_id": 23, 
                    "updated_at": "2012-02-08T16:55:55-05:00"
                }, 
                {
                    "composition_id": 2, 
                    "created_at": "2011-10-11T17:59:42-04:00", 
                    "id": 35, 
                    "name": "ssh execute (agent)", 
                    "options": {"host":{"value":"#{fields[:instance_dns]}","type":"String","required":false},"commands":{"value":["mkdir /var/www/html/wp-content/uploads /var/www/html/wp-content/cache","chown apache:apache /var/www/html/wp-content/uploads /var/www/html/wp-content/cache","cp /var/www/html/wp-config-sample.php /var/www/html/wp-config.php","chcon -R -t httpd_sys_content_t /var/www/html"],"type":"Array","required":true},"key_type":{"value":"","type":"String","required":false},"user":{"value":"root","type":"String","required":true},"key_path":{"value":"<%= demo_keypair %>","type":"String","required":true}}, 
                    "position": 6, 
                    "source": null, 
                    "task_id": 23, 
                    "updated_at": "2012-02-08T16:55:55-05:00"
                }, 
                {
                    "composition_id": 2, 
                    "created_at": "2011-10-11T18:07:25-04:00", 
                    "id": 36, 
                    "name": "ssh execute (agent)", 
					"options": {"host":{"value":"#{fields[:instance_dns]}","type":"String","required":false},"commands":{"value":["sed -i -e \"s@password_here@wordpress@\" /var/www/html/wp-config.php","sed -i -e \"s@username_here@wordpress@\" /var/www/html/wp-config.php","sed -i -e \"s@database_name_here@wordpress@\" /var/www/html/wp-config.php"],"type":"Array","required":true},"key_type":{"value":"","type":"String","required":false},"user":{"value":"root","type":"String","required":true},"key_path":{"value":"<%= demo_keypair %>","type":"String","required":true}},                   
                    "position": 7, 
                    "source": null, 
                    "task_id": 23, 
                    "updated_at": "2012-02-08T16:55:55-05:00"
                }, 
                {
                    "composition_id": 2, 
                    "created_at": "2011-10-11T19:42:49-04:00", 
                    "id": 38, 
                    "name": "confirmation", 
                    "options": {"body":{"value":"Validation complete of <a href=http://#{fields[:instance_dns]}:#{fields[:port]}#{fields[:web_path]}>http://#{fields[:instance_dns]}:#{fields[:port]}#{fields[:web_path]}</a>?","type":"String","required":true},"fail_on_cancel":{"value":false,"type":"Boolean","required":false}}, 
                    "position": 9, 
                    "source": null, 
                    "task_id": 7, 
                    "updated_at": "2012-02-08T16:55:56-05:00"
                }, 
                {
                    "composition_id": 2, 
                    "created_at": "2012-02-08T16:14:22-05:00", 
                    "id": 147, 
                    "name": "ec2 deprovision", 
                    "options": {"key_name":{"value":"lucee-demo-keypair","required":true,"type":"String"},"ssh_commands":{"value":["ls"],"required":true,"type":"Array"},"ssh_user":{"value":"root","required":true,"type":"String"},"key_id":{"value":"<%= ec2_key_id %>","required":true,"type":"Password"},"key":{"value":"<%= ec2_key %>","required":true,"type":"Password"}}, 
                    "position": 10, 
                    "source": null, 
                    "task_id": 19, 
                    "updated_at": "2012-02-08T16:55:55-05:00"
                }
            ], 
            "created_at": "2011-10-10T17:51:26-04:00", 
            "description": "Wordpress", 
            "fail_type": "fast", 
            "fail_type_id": 1, 
            "id": 2, 
            "name": "Wordpress", 
            "on_error_composition":null, 
            "on_error_id": null, 
            "reuse_agent": true, 
            "schedule": "", 
            "sources": [], 
            "state": null, 
            "tasks": [
                {
                    "code": null, 
                    "command": "/svn/checkout", 
                    "created_at": "2011-08-04T18:31:28-04:00", 
                    "dependencies": null, 
                    "description": "Checkout A Subversion Repository<br>[path] Local Path For Checkout<br>[url] Remote Repository Url", 
                    "id": 5, 
                    "klass": null, 
                    "language": null, 
                    "name": "svn checkout", 
                    "options": {"path":{"required":true,"type":"String","value":""},"url":{"required":true,"type":"Url","value":""},"options":{"required":false,"type":"String","value":""},"clean_working_copy":{"required":false,"type":"Boolean","value":false}}, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": "SCM", 
                    "type": "remote", 
                    "updated_at": "2012-02-07T00:29:28-05:00"
                }, 
                {
                    "code": null, 
                    "command": "/confirmation/work", 
                    "created_at": "2011-08-04T18:31:28-04:00", 
                    "dependencies": null, 
                    "description": "Allows User Confirmation Before Continuing, A Notification Will Be Displayed Below. Confirming Will Allow The Composition To Continue, Rejecting Will Cancel The Composition<br>[body] The String To Be Displayed In The Action Pane", 
                    "id": 7, 
                    "klass": null, 
                    "language": null, 
                    "name": "confirmation", 
                    "options": {"body":{"required":true,"type":"String","value":""}}, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": "Actions", 
                    "type": "confirmation", 
                    "updated_at": "2012-02-07T00:29:28-05:00"
                }, 
                {
                    "code": null, 
                    "command": "/archive/archive", 
                    "created_at": "2011-08-22T10:30:13-04:00", 
                    "dependencies": null, 
                    "description": "Create a zip of files and directories", 
                    "id": 15, 
                    "klass": null, 
                    "language": null, 
                    "name": "zip", 
                    "options": {"type":{"required":true,"type":"String","value":"zip"},"path":{"required":true,"type":"String","value":""},"destination":{"required":true,"type":"String","value":""},"filename":{"required":true,"type":"String","value":""}}, 
                    "pom": null, 
                    "position": 5, 
                    "tool_name": "Package", 
                    "type": "remote", 
                    "updated_at": "2012-02-07T00:29:29-05:00"
                }, 
                {
                    "code": null, 
                    "command": "/ssh/execute", 
                    "created_at": "2011-08-04T18:31:29-04:00", 
                    "dependencies": null, 
                    "description": "Run A Shell Command From The Agent <br>[host] Hostname Of The Server To Run Remote Commands <br>[user] User To Run Commands <br>[key_path] Key Used For Authentication <br>[key_type] Type Of Key Encryption <br>[commands] Set Of Shell Commands ", 
                    "id": 23, 
                    "klass": null, 
                    "language": null, 
                    "name": "ssh execute (agent)", 
                    "options": {"host":{"required":false,"type":"String","value":"localhost"},"user":{"required":true,"type":"String","value":""},"key_path":{"required":true,"type":"String","value":""},"key_type":{"required":false,"type":"String","value":""},"commands":{"required":true,"type":"Array","value":[]}}, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": "Shell", 
                    "type": "remote", 
                    "updated_at": "2012-02-07T00:29:31-05:00"
                }, 
                {
                    "code": null, 
                    "command": "/scp/upload", 
                    "created_at": "2011-08-04T18:31:29-04:00", 
                    "dependencies": null, 
                    "description": "Upload A File To A Remote Server From The Agent <br>[host] Hostname Of The Target Server To Run Remote Commands <br>[user] User To Run Commands <br>[key_path] Key Used For Authentication <br>[key_type] Type Of Key Encryption <br>[path] Local Path To Files <br>[remote_path] Remote Location To Copy Files ", 
                    "id": 25, 
                    "klass": null, 
                    "language": null, 
                    "name": "scp upload", 
                    "options": {"host":{"required":true,"type":"String","value":"localhost"},"user":{"required":true,"type":"String","value":""},"key_path":{"required":true,"type":"String","value":""},"key_type":{"required":false,"type":"String","value":""},"path":{"required":true,"type":"String","value":""},"remote_path":{"required":true,"type":"String","value":""}}, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": "Shell", 
                    "type": "remote", 
                    "updated_at": "2012-02-07T00:29:31-05:00"
                }
            ], 
            "updated_at": "2012-02-07T00:29:39-05:00"
        }
    ], 
    "created_at": "2011-09-15T18:26:06-04:00", 
    "description": "WordPress is web software you can use to create a beautiful website or blog.", 
    "home_url": "http://wordpress.org/", 
    "id": 2, 
    "name": "Wordpress", 
    "scm_url": "http://core.svn.wordpress.org/trunk/", 
    "updated_at": "2012-02-07T00:29:39-05:00"
}
